{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\user\\\\Desktop\\\\NULL_CLASS\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\NULL_CLASS\\\\client\\\\src\\\\pages\\\\VideoUpload\\\\VideoUpload.jsx\";\nimport React, { useState } from 'react';\nimport './VideoUpload.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadVideo } from '../../actions/video';\n// import { BiFontSize } from 'react-icons/bi'\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\nfunction VideoUpload(_ref) {\n  var setVidUploadPage = _ref.setVidUploadPage;\n  var CurrentUser = useSelector(function (state) {\n    return state.currentUserReducer;\n  });\n  var dispatch = useDispatch();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    videoFile = _useState4[0],\n    setVideoFile = _useState4[1];\n  var handleSetVideoFile = function handleSetVideoFile(e) {\n    setVideoFile(e.target.file[0]);\n  };\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    progress = _useState6[0],\n    setProgress = _useState6[1];\n  var fileOptions = {\n    onUploadProgress: function onUploadProgress(ProgressEvent) {\n      var _pro = pro,\n        loaded = _pro.loaded,\n        total = _pro.total;\n    }\n  };\n  var uploadVideoFile = function uploadVideoFile() {\n    if (!title) {\n      alert('plz enter the title of the video');\n    } else if (!videoFile) {\n      alert(\"plz attach a video file\");\n    } else if (videoFile.size < 1000000) {\n      alert(\"Plz attach a video fil less than 1kb\");\n    } else {\n      var fileData = new FormData();\n      fileData.append('file', videoFile);\n      fileData.append('title', title);\n      fileData.append('channel', CurrentUser.result._id);\n      fileData.append('uploader', CurrentUser.result.name);\n      dispatch(uploadVideo({\n        fileData: fileData,\n        fileOptions: fileOptions\n      }));\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container_VidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    name: \"text\",\n    value: \"X\",\n    onClick: function onClick() {\n      return setVidUploadPage(false);\n    },\n    className: \"ibtn_x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2_VidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ibox_div_vidupload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      setTitle(e.target.value);\n    },\n    type: \"text\",\n    className: \"ibox_vidupload\",\n    maxLength: 30,\n    placeholder: \"Enter Title of your video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"file\",\n    className: \"ibox_vidupload btn_vidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    className: \"ibox_vidupload\",\n    style: {\n      fontSize: \"1rem\"\n    },\n    onChange: function onChange(e) {\n      handleSetVideoFile(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ibox_div_vidupload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onClick: function onClick() {\n      return uploadVideoFile();\n    },\n    type: \"submit\",\n    value: \"Upload\",\n    className: \"ibox_vidupload btn_vidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader ibox_div_vidupload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgressbar, {\n    value: progress,\n    text: \"\".concat(progress),\n    styles: buildStyles({\n      rotation: 0.25,\n      strokeLinecap: \"butt\",\n      textSize: \"20px\",\n      pathTransitionDuration: 0.5,\n      pathColor: \"rgba(255,255,255,\".concat(progress / 100, \")\"),\n      textColor: \"#f88\",\n      trailColor: \"#adff2f\",\n      backgroundColor: \"#3e98c7\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }))));\n}\nexport default VideoUpload;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","uploadVideo","CircularProgressbar","buildStyles","VideoUpload","_ref","setVidUploadPage","CurrentUser","state","currentUserReducer","dispatch","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","videoFile","setVideoFile","handleSetVideoFile","e","target","file","_useState5","_useState6","progress","setProgress","fileOptions","onUploadProgress","ProgressEvent","_pro","pro","loaded","total","uploadVideoFile","alert","size","fileData","FormData","append","result","_id","name","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onClick","onChange","maxLength","placeholder","htmlFor","style","fontSize","text","concat","styles","rotation","strokeLinecap","textSize","pathTransitionDuration","pathColor","textColor","trailColor","backgroundColor"],"sources":["C:/Users/user/Desktop/NULL_CLASS/client/src/pages/VideoUpload/VideoUpload.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport './VideoUpload.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uploadVideo } from '../../actions/video';\r\n// import { BiFontSize } from 'react-icons/bi'\r\nimport {CircularProgressbar,buildStyles} from 'react-circular-progressbar'\r\n\r\nfunction VideoUpload({setVidUploadPage}) {\r\n    const CurrentUser = useSelector((state) => state.currentUserReducer);\r\n    const dispatch = useDispatch();\r\n    const[title, setTitle] = useState('')\r\n    const[videoFile, setVideoFile] = useState('')\r\n    const handleSetVideoFile=(e)=>{\r\n        setVideoFile(e.target.file[0]);\r\n\r\n    }\r\n    const[progress, setProgress] = useState(0)\r\n    const fileOptions={\r\n        onUploadProgress:(ProgressEvent)=>{\r\n            const {loaded, total}=pro\r\n        }\r\n\r\n    }\r\n    const uploadVideoFile=()=>{\r\n        if(!title){\r\n            alert('plz enter the title of the video')\r\n        }else if(!videoFile){\r\n            alert(\"plz attach a video file\")\r\n        }else if(videoFile.size < 1000000){\r\n            alert(\"Plz attach a video fil less than 1kb\")\r\n\r\n        }else{\r\n            const fileData=new FormData();\r\n            fileData.append('file',videoFile);\r\n            fileData.append('title',title);\r\n            fileData.append('channel',CurrentUser.result._id);\r\n            fileData.append('uploader',CurrentUser.result.name);\r\n            dispatch(uploadVideo({\r\n                fileData:fileData, fileOptions:fileOptions\r\n            }))\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container_VidUpload\">\r\n          <input\r\n            type=\"submit\"\r\n            name=\"text\"\r\n            value={\"X\"}\r\n            onClick={() => setVidUploadPage(false)}\r\n            className=\"ibtn_x\"\r\n          />\r\n          <div className=\"container2_VidUpload\">\r\n            <div className=\"ibox_div_vidupload\">\r\n              <input\r\n                onChange={(e) => {\r\n                  setTitle(e.target.value);\r\n                }}\r\n                type=\"text\"\r\n                className=\"ibox_vidupload\"\r\n                maxLength={30}\r\n                placeholder=\"Enter Title of your video\"\r\n              />\r\n              <label htmlFor=\"file\" className=\"ibox_vidupload btn_vidUpload\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  className=\"ibox_vidupload\"\r\n                  style={{ fontSize: \"1rem\" }}\r\n                  onChange={(e) => {\r\n                    handleSetVideoFile(e);\r\n                  }}\r\n                />\r\n              </label>\r\n            </div>\r\n            <div className=\"ibox_div_vidupload\">\r\n              <input\r\n                onClick={() => uploadVideoFile()}\r\n                type=\"submit\"\r\n                value=\"Upload\"\r\n                className=\"ibox_vidupload btn_vidUpload\"\r\n              />\r\n            </div>\r\n            <div className=\"loader ibox_div_vidupload\">\r\n              <CircularProgressbar\r\n                value={progress}\r\n                text={`${progress}`}\r\n                styles={buildStyles({\r\n                  rotation: 0.25,\r\n                  strokeLinecap: \"butt\",\r\n                  textSize: \"20px\",\r\n                  pathTransitionDuration: 0.5,\r\n                  pathColor: `rgba(255,255,255,${progress / 100})`,\r\n                  textColor: \"#f88\",\r\n                  trailColor: \"#adff2f\",\r\n                  backgroundColor: \"#3e98c7\",\r\n                })}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default VideoUpload\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}