{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\user\\\\Desktop\\\\NULL_CLASS\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\NULL_CLASS\\\\client\\\\src\\\\pages\\\\VideoUpload\\\\VideoUpload.jsx\";\nimport React, { useState } from 'react';\nimport './VideoUpload.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadVideo } from '../../actions/video';\n// import { BiFontSize } from 'react-icons/bi'\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\nfunction VideoUpload(_ref) {\n  var setVidUploadPage = _ref.setVidUploadPage;\n  var CurrentUser = useSelector(function (state) {\n    return state.currentUserReducer;\n  });\n  var dispatch = useDispatch();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    videoFile = _useState4[0],\n    setVideoFile = _useState4[1];\n  var handleSetVideoFile = function handleSetVideoFile(e) {\n    setVideoFile(e.target.files[0]);\n  };\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    progress = _useState6[0],\n    setProgress = _useState6[1];\n  var fileOptions = {\n    onUploadProgress: function onUploadProgress(ProgressEvent) {\n      var loaded = ProgressEvent.loaded,\n        total = ProgressEvent.total;\n      var percentage = Math.floor(loaded / 1000 * 100 / (total / 1000));\n      setProgress(percentage);\n      if (percentage === 100) {\n        setTimeout(function () {}, 3000);\n        // setVidUploadPage(false)\n      }\n    }\n  };\n\n  var uploadVideoFile = function uploadVideoFile() {\n    if (!title) {\n      alert('plz enter the title of the video');\n    } else if (!videoFile) {\n      alert(\"plz attach a video file\");\n    } else if (videoFile.size < 1000000) {\n      alert(\"Plz attach a video fil less than 1kb\");\n    } else {\n      var fileData = new FormData();\n      fileData.append('file', videoFile);\n      fileData.append('title', title);\n      fileData.append('channel', CurrentUser && CurrentUser.result && CurrentUser.result._id);\n      fileData.append('uploader', CurrentUser && CurrentUser.result && CurrentUser.result.name);\n      console.log(fileData);\n\n      // dispatch(uploadVideo({\n      //     fileData: fileData,\n      //     fileOptions: fileOptions,\n      // }))\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container_VidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    name: \"text\",\n    value: \"X\",\n    onClick: function onClick() {\n      return setVidUploadPage(false);\n    },\n    className: \"ibtn_x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2_VidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ibox_div_vidupload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      setTitle(e.target.value);\n    },\n    type: \"text\",\n    className: \"ibox_vidupload\",\n    maxLength: 30,\n    placeholder: \"Enter Title of your video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"file\",\n    className: \"ibox_vidupload btn_vidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    className: \"ibox_vidupload\",\n    style: {\n      fontSize: \"1rem\"\n    },\n    onChange: function onChange(e) {\n      handleSetVideoFile(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ibox_div_vidupload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onClick: function onClick() {\n      return uploadVideoFile();\n    },\n    type: \"submit\",\n    value: \"Upload\",\n    className: \"ibox_vidupload btn_vidUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader ibox_div_vidupload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgressbar, {\n    value: progress,\n    text: \"\".concat(progress),\n    styles: buildStyles({\n      rotation: 0.25,\n      strokeLinecap: \"butt\",\n      textSize: \"20px\",\n      pathTransitionDuration: 0.5,\n      pathColor: \"rgba(255,255,255,\".concat(progress / 100, \")\"),\n      textColor: \"#f88\",\n      trailColor: \"#adff2f\",\n      backgroundColor: \"#3e98c7\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }))));\n}\nexport default VideoUpload;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","uploadVideo","CircularProgressbar","buildStyles","VideoUpload","_ref","setVidUploadPage","CurrentUser","state","currentUserReducer","dispatch","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","videoFile","setVideoFile","handleSetVideoFile","e","target","files","_useState5","_useState6","progress","setProgress","fileOptions","onUploadProgress","ProgressEvent","loaded","total","percentage","Math","floor","setTimeout","uploadVideoFile","alert","size","fileData","FormData","append","result","_id","name","console","log","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onClick","onChange","maxLength","placeholder","htmlFor","style","fontSize","text","concat","styles","rotation","strokeLinecap","textSize","pathTransitionDuration","pathColor","textColor","trailColor","backgroundColor"],"sources":["C:/Users/user/Desktop/NULL_CLASS/client/src/pages/VideoUpload/VideoUpload.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport './VideoUpload.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uploadVideo } from '../../actions/video';\r\n// import { BiFontSize } from 'react-icons/bi'\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar'\r\n\r\nfunction VideoUpload({ setVidUploadPage }) {\r\n    const CurrentUser = useSelector((state) => state.currentUserReducer);\r\n    const dispatch = useDispatch();\r\n    const [title, setTitle] = useState('')\r\n    const [videoFile, setVideoFile] = useState('')\r\n    const handleSetVideoFile = (e) => {\r\n        setVideoFile(e.target.files[0]);\r\n\r\n    }\r\n    const [progress, setProgress] = useState(0)\r\n    const fileOptions = {\r\n        onUploadProgress: (ProgressEvent) => {\r\n            const { loaded, total } = ProgressEvent;\r\n            const percentage = Math.floor(((loaded / 1000) * 100) / (total / 1000));\r\n            setProgress(percentage)\r\n            if (percentage === 100) {\r\n                setTimeout(function () { }, 3000)\r\n                // setVidUploadPage(false)\r\n            }\r\n        }\r\n\r\n    }\r\n    const uploadVideoFile = () => {\r\n        if (!title) {\r\n            alert('plz enter the title of the video')\r\n        } else if (!videoFile) {\r\n            alert(\"plz attach a video file\")\r\n        } else if (videoFile.size < 1000000) {\r\n            alert(\"Plz attach a video fil less than 1kb\")\r\n\r\n        } else {\r\n                const fileData = new FormData();\r\n                fileData.append('file', videoFile);\r\n                fileData.append('title', title);\r\n                fileData.append('channel', CurrentUser && CurrentUser.result && CurrentUser.result._id);\r\n                fileData.append('uploader', CurrentUser && CurrentUser.result && CurrentUser.result.name);\r\n                console.log(fileData)\r\n\r\n                // dispatch(uploadVideo({\r\n                //     fileData: fileData,\r\n                //     fileOptions: fileOptions,\r\n                // }))\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"container_VidUpload\">\r\n                <input\r\n                    type=\"submit\"\r\n                    name=\"text\"\r\n                    value={\"X\"}\r\n                    onClick={() => setVidUploadPage(false)}\r\n                    className=\"ibtn_x\"\r\n                />\r\n                <div className=\"container2_VidUpload\">\r\n                    <div className=\"ibox_div_vidupload\">\r\n                        <input\r\n                            onChange={(e) => {\r\n                                setTitle(e.target.value);\r\n                            }}\r\n                            type=\"text\"\r\n                            className=\"ibox_vidupload\"\r\n                            maxLength={30}\r\n                            placeholder=\"Enter Title of your video\"\r\n                        />\r\n                        <label htmlFor=\"file\" className=\"ibox_vidupload btn_vidUpload\">\r\n                            <input\r\n                                type=\"file\"\r\n                                name=\"file\"\r\n                                className=\"ibox_vidupload\"\r\n                                style={{ fontSize: \"1rem\" }}\r\n                                onChange={(e) => {\r\n                                    handleSetVideoFile(e);\r\n                                }}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"ibox_div_vidupload\">\r\n                        <input\r\n                            onClick={() => uploadVideoFile()}\r\n                            type=\"submit\"\r\n                            value=\"Upload\"\r\n                            className=\"ibox_vidupload btn_vidUpload\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"loader ibox_div_vidupload\">\r\n                        <CircularProgressbar\r\n                            value={progress}\r\n                            text={`${progress}`}\r\n                            styles={buildStyles({\r\n                                rotation: 0.25,\r\n                                strokeLinecap: \"butt\",\r\n                                textSize: \"20px\",\r\n                                pathTransitionDuration: 0.5,\r\n                                pathColor: `rgba(255,255,255,${progress / 100})`,\r\n                                textColor: \"#f88\",\r\n                                trailColor: \"#adff2f\",\r\n                                backgroundColor: \"#3e98c7\",\r\n                            })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\nexport default VideoUpload\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}